<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Number Formatter</title>
</head>

<body>
    <form>
        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" maxlength="17" placeholder="+380 XX XXX XX XX" value="+380 "
            >
    </form>

    <script>
        const phoneInput = document.getElementById('phone');

        phoneInput.addEventListener('input', function (e) {
            let input = e.target.value.replace(/\D/g, '').substring(3); // Видалити все, окрім цифр і пропустити префікс +380
            let formattedInput = '+380';

            if (input.length > 0) {
                formattedInput += ' ' + input.substring(0, 2);
            }
            if (input.length >= 3) {
                formattedInput += ' ' + input.substring(2, 5);
            }
            if (input.length >= 6) {
                formattedInput += ' ' + input.substring(5, 7);
            }
            if (input.length >= 8) {
                formattedInput += ' ' + input.substring(7, 9);
            }

            e.target.value = formattedInput;
        });

        // Забороняємо користувачеві видаляти префікс +380
        phoneInput.addEventListener('keydown', function (e) {
            if (e.key === 'Backspace' && phoneInput.value.length <= 5) {
                e.preventDefault();
            }
        });
    </script>
</body>

</html>